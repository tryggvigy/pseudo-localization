{"version":3,"file":"localize.js","names":["ACCENTED_MAP","a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","v","V","u","U","w","W","x","X","y","Y","z","Z","BIDI_MAP","strategies","accented","prefix","postfix","map","elongate","bidi","getStrategy","strategy","extendParams","opts","Object","assign","pseudoLocalizeString","string","options","pseudoLocalizedText","character","char","cl","toLowerCase","startsWith","endsWith"],"sources":["../../src/localize.ts"],"sourcesContent":["const ACCENTED_MAP = {\n  a: 'ȧ',\n  A: 'Ȧ',\n  b: 'ƀ',\n  B: 'Ɓ',\n  c: 'ƈ',\n  C: 'Ƈ',\n  d: 'ḓ',\n  D: 'Ḓ',\n  e: 'ḗ',\n  E: 'Ḗ',\n  f: 'ƒ',\n  F: 'Ƒ',\n  g: 'ɠ',\n  G: 'Ɠ',\n  h: 'ħ',\n  H: 'Ħ',\n  i: 'ī',\n  I: 'Ī',\n  j: 'ĵ',\n  J: 'Ĵ',\n  k: 'ķ',\n  K: 'Ķ',\n  l: 'ŀ',\n  L: 'Ŀ',\n  m: 'ḿ',\n  M: 'Ḿ',\n  n: 'ƞ',\n  N: 'Ƞ',\n  o: 'ǿ',\n  O: 'Ǿ',\n  p: 'ƥ',\n  P: 'Ƥ',\n  q: 'ɋ',\n  Q: 'Ɋ',\n  r: 'ř',\n  R: 'Ř',\n  s: 'ş',\n  S: 'Ş',\n  t: 'ŧ',\n  T: 'Ŧ',\n  v: 'ṽ',\n  V: 'Ṽ',\n  u: 'ŭ',\n  U: 'Ŭ',\n  w: 'ẇ',\n  W: 'Ẇ',\n  x: 'ẋ',\n  X: 'Ẋ',\n  y: 'ẏ',\n  Y: 'Ẏ',\n  z: 'ẑ',\n  Z: 'Ẑ',\n};\n\nconst BIDI_MAP = {\n  a: 'ɐ',\n  A: '∀',\n  b: 'q',\n  B: 'Ԑ',\n  c: 'ɔ',\n  C: 'Ↄ',\n  d: 'p',\n  D: 'ᗡ',\n  e: 'ǝ',\n  E: 'Ǝ',\n  f: 'ɟ',\n  F: 'Ⅎ',\n  g: 'ƃ',\n  G: '⅁',\n  h: 'ɥ',\n  H: 'H',\n  i: 'ı',\n  I: 'I',\n  j: 'ɾ',\n  J: 'ſ',\n  k: 'ʞ',\n  K: 'Ӽ',\n  l: 'ʅ',\n  L: '⅂',\n  m: 'ɯ',\n  M: 'W',\n  n: 'u',\n  N: 'N',\n  o: 'o',\n  O: 'O',\n  p: 'd',\n  P: 'Ԁ',\n  q: 'b',\n  Q: 'Ò',\n  r: 'ɹ',\n  R: 'ᴚ',\n  s: 's',\n  S: 'S',\n  t: 'ʇ',\n  T: '⊥',\n  u: 'n',\n  U: '∩',\n  v: 'ʌ',\n  V: 'Ʌ',\n  w: 'ʍ',\n  W: 'M',\n  x: 'x',\n  X: 'X',\n  y: 'ʎ',\n  Y: '⅄',\n  z: 'z',\n  Z: 'Z',\n};\n\ninterface StrategyOptions {\n  map: typeof ACCENTED_MAP | typeof BIDI_MAP;\n  prefix: string;\n  postfix: string;\n  elongate: boolean;\n}\n\nconst strategies = {\n  accented: {\n    prefix: '',\n    postfix: '',\n    map: ACCENTED_MAP,\n    elongate: true,\n  },\n  bidi: {\n    // Surround words with Unicode formatting marks forcing\n    // right-to-left directionality of characters\n    prefix: '\\u202e',\n    postfix: '\\u202c',\n    map: BIDI_MAP,\n    elongate: false,\n  },\n};\n\nexport type Strategy = 'accented' | 'bidi';\n\nexport interface ExtendStrategy {\n  prefix: string;\n  postfix: string;\n  elongate: boolean;\n}\n\nexport type PseudoLocalizeStringOptions = {\n  strategy?: Strategy;\n  extendParams?: ExtendStrategy;\n};\n\nexport const getStrategy = ({\n  strategy = 'accented',\n  extendParams = { prefix: '', postfix: '', elongate: false },\n}: PseudoLocalizeStringOptions): StrategyOptions => {\n  let opts = Object.assign({}, strategies[strategy]);\n  if (typeof extendParams === 'object') {\n    const { prefix, postfix, elongate } = extendParams;\n    Object.assign(opts, { prefix, postfix, elongate });\n  }\n  return opts;\n};\n\nconst pseudoLocalizeString = (\n  string: string,\n  options: PseudoLocalizeStringOptions = {}\n): string => {\n  let opts = getStrategy(options);\n  let pseudoLocalizedText = '';\n  for (let character of string) {\n    if (character in opts.map) {\n      let char = character as keyof typeof opts.map;\n      const cl = char.toLowerCase();\n      // duplicate \"a\", \"e\", \"o\" and \"u\" to emulate ~30% longer text\n      if (\n        opts.elongate &&\n        (cl === 'a' || cl === 'e' || cl === 'o' || cl === 'u')\n      ) {\n        pseudoLocalizedText += opts.map[char] + opts.map[char];\n      } else pseudoLocalizedText += opts.map[char];\n    } else pseudoLocalizedText += character;\n  }\n\n  // If this string is from the DOM, it should already contain the pre- and postfix\n  if (\n    pseudoLocalizedText.startsWith(opts.prefix) &&\n    pseudoLocalizedText.endsWith(opts.postfix)\n  ) {\n    return pseudoLocalizedText;\n  }\n  return opts.prefix + pseudoLocalizedText + opts.postfix;\n};\n\nexport default pseudoLocalizeString;\n"],"mappings":"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"}